parameters:
	doctrine:
		odm:
			mongodb:
				managerClass: Doctrine\ODM\MongoDB\DocumentManager
				repositoryClass: Doctrine\ODM\MongoDB\DocumentRepository
		orm:
			managerClass: Doctrine\ORM\EntityManagerInterface
			repositoryClass: Doctrine\ORM\EntityRepository
		persistence:
			managerClass: Doctrine\Common\Persistence\ObjectManager
			repositoryClass: Doctrine\Common\Persistence\ObjectRepository

services:
	-
		class: PHPStan\Reflection\Doctrine\DoctrineSelectableClassReflectionExtension
		tags:
			- phpstan.broker.methodsClassReflectionExtension
	-
		class: PHPStan\Type\Doctrine\DoctrineSelectableDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension

	-
		class: PHPStan\Type\Doctrine\ObjectManagerFindDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectManagerMergeDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectRepositoryDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension

	-
		class: PHPStan\Type\Doctrine\ObjectManagerGetRepositoryDynamicReturnTypeExtension
		arguments:
			managerClass: %doctrine.persistence.managerClass%
			repositoryClass: %doctrine.persistence.repositoryClass%
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectManagerGetRepositoryDynamicReturnTypeExtension
		arguments:
			managerClass: %doctrine.odm.mongodb.managerClass%
			repositoryClass: %doctrine.odm.mongodb.repositoryClass%
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectManagerGetRepositoryDynamicReturnTypeExtension
		arguments:
			managerClass: %doctrine.orm.managerClass%
			repositoryClass: %doctrine.orm.repositoryClass%
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
