parameters:
	doctrine:
		repositoryClass: Doctrine\ORM\EntityRepository
		allCollectionsSelectable: true
		objectManagerLoader: ~

conditionalTags:
	PHPStan\Reflection\Doctrine\DoctrineSelectableClassReflectionExtension:
		phpstan.broker.methodsClassReflectionExtension: %doctrine.allCollectionsSelectable%

services:
	-
		class: PHPStan\Reflection\Doctrine\DoctrineSelectableClassReflectionExtension
	-
		class: PHPStan\Type\Doctrine\DoctrineSelectableDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectManagerFindDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectManagerGetRepositoryDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectManagerMergeDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectRepositoryDynamicReturnTypeExtension
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ManagerRegistryGetRepositoryDynamicReturnTypeExtension
		arguments:
			repositoryClass: %doctrine.repositoryClass%
		tags:
			- phpstan.broker.dynamicMethodReturnTypeExtension
	-
		class: PHPStan\Type\Doctrine\ObjectMetadataResolver
		arguments:
			objectManagerLoader: %doctrine.objectManagerLoader%
